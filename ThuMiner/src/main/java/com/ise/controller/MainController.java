package com.ise.controller;

import java.io.IOException;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.json.JSONArray;
import org.json.JSONObject;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.servlet.ModelAndView;

@Controller
public class MainController {
	@RequestMapping("/main")
	public ModelAndView loginView(){
		ModelAndView mav = new ModelAndView();
		mav.setViewName("index");
		
		return mav;
	}
	
	@RequestMapping("/queryMapData")
	public void getMapData(HttpServletRequest request, HttpServletResponse response) throws IOException {
		String test = "{\"event_frequency\":[0,0,1368,371,867,3334,866,442,292,516,1044,1144,264,28],\"activity_name\":[\"begin233\",\"end\",\"ChkOutPaymInit\",\"ChkOutInitCert\",\"ChkOutGetDisco\",\"ChkOutinit0000\",\"ChkOutCheckout\",\"ChkOutInitCurr\",\"ChkOutGetCrede\",\"ChkOut99999999\",\"SucPaginit0000\",\"SucPagpushinvo\",\"SucPagclosetab\",\"ChkOutclosetab\"],\"total_duration_edge\":[[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,583000,-121000,-2174000,2574000,-71000,-40000,-863000,0,0,0,0,0],[0,0,200000,-95000,293000,-2000,-27000,-125000,-95000,0,0,0,0,0],[0,0,2908000,-29000,-9043000,6306000,-72000,-46000,-97000,1454000,0,0,0,0],[0,0,217000,-1000,32000,462000,714000,-7000,1411000,7339000,0,0,0,1115000],[0,0,2475000,560000,2296000,1798000,7827000,1333000,2167000,0,0,0,0,0],[0,0,978000,96000,8000,-18000,54000,-761000,-286000,0,0,0,0,0],[0,0,6262000,418000,648000,255000,31000,-49000,-4542000,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,-106959000,9891000,0,0,0],[0,0,0,0,0,0,0,0,0,0,-1774000,3405000,8532000,0],[0,0,0,0,0,0,0,0,0,0,0,-19748000,8924000,0],[0,0,0,0,0,0,0,0,0,0,0,0,-221000,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,-7000]],\"min_duration_edge\":[[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,-198000,-16000,-253000,-3000,-25000,-7000,-357000,0,0,0,0,0],[0,0,-15000,-4000,-11000,-2000,-17000,-12000,-51000,0,0,0,0,0],[0,0,-41000,-3000,-1231000,-3000,-18000,-6000,-100000,1454000,0,0,0,0],[0,0,-4000,-2000,-150000,-39000,-26000,-4000,-13000,88000,0,0,0,1115000],[0,0,-8000,-5000,-9000,-28000,-1112000,-4000,-59000,0,0,0,0,0],[0,0,-3000,-8000,-3000,-7000,-25000,-33000,-23000,0,0,0,0,0],[0,0,-2000,-2000,-149000,0,-3000,-16000,-389000,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,-3316000,73000,0,0,0],[0,0,0,0,0,0,0,0,0,0,-94000,774000,2637000,0],[0,0,0,0,0,0,0,0,0,0,0,-10112000,47000,0],[0,0,0,0,0,0,0,0,0,0,0,0,-150000,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,-2000]],\"total_duration\":[0,0,4436,412,21621,5798,13497,1499,9427,233261,2728,46345,613,22],\"max_duration_edge\":[[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,171000,2000,73000,786000,3000,10000,1000,0,0,0,0,0],[0,0,106000,1000,182000,0,1000,1000,6000,0,0,0,0,0],[0,0,679000,9000,694000,2886000,1000,1000,13000,1454000,0,0,0,0],[0,0,288000,1000,1146000,453000,741000,0,1425000,2028000,0,0,0,1115000],[0,0,1196000,572000,716000,2030000,4626000,1051000,1293000,0,0,0,0,0],[0,0,973000,47000,5000,0,94000,2000,3000,0,0,0,0,0],[0,0,2938000,188000,270000,226000,24000,6000,2000,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,1304000,738000,0,0,0],[0,0,0,0,0,0,0,0,0,0,9000,1764000,3114000,0],[0,0,0,0,0,0,0,0,0,0,0,107000,3071000,0],[0,0,0,0,0,0,0,0,0,0,0,0,3000,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,1000]],\"event_frequency_edge\":[[0,0,48,14,50,133,32,22,22,137,35,140,57,6],[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,38,815,101,191,83,36,71,33,0,0,0,0,0],[0,8,104,103,58,2,16,55,25,0,0,0,0,0],[0,42,201,52,357,66,52,68,28,1,0,0,0,0],[0,115,45,3,48,2853,255,4,4,6,0,0,0,1],[0,62,48,30,62,188,426,32,18,0,0,0,0,0],[0,21,51,39,59,6,27,157,82,0,0,0,0,0],[0,27,56,29,42,3,22,33,80,0,0,0,0,0],[0,106,0,0,0,0,0,0,0,372,38,0,0,0],[0,67,0,0,0,0,0,0,0,0,971,3,3,0],[0,135,0,0,0,0,0,0,0,0,0,1001,8,0],[0,68,0,0,0,0,0,0,0,0,0,0,196,0],[0,7,0,0,0,0,0,0,0,0,0,0,0,21]],\"min_duration\":[0,0,1,1,3,1,2,3,64,0,1,28,1,1],\"case_frequency\":[0,0,147,83,153,192,125,88,91,144,73,143,68,7],\"max_repetitions\":[0,0,26,8,18,48,21,10,4,8,20,20,4,4],\"max_duration\":[0,0,198,16,1236,57,5973,33,390,3316,95,10113,151,3],\"case_frequency_edge\":[[0,0,48,14,50,133,32,22,22,137,35,140,57,6],[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,38,105,49,87,48,27,52,26,0,0,0,0,0],[0,8,47,47,43,1,12,37,22,0,0,0,0,0],[0,42,95,34,100,38,28,46,24,1,0,0,0,0],[0,115,37,2,34,182,72,3,3,6,0,0,0,1],[0,62,32,19,40,66,99,25,14,0,0,0,0,0],[0,21,40,27,49,4,21,73,56,0,0,0,0,0],[0,27,45,25,33,3,21,28,73,0,0,0,0,0],[0,106,0,0,0,0,0,0,0,142,38,0,0,0],[0,67,0,0,0,0,0,0,0,0,70,3,3,0],[0,135,0,0,0,0,0,0,0,0,0,133,8,0],[0,68,0,0,0,0,0,0,0,0,0,0,66,0],[0,7,0,0,0,0,0,0,0,0,0,0,0,7]]}";
		
		/**
		 *  Example for json
		 *  Use JSONObject to build json
		 */
		/*
		JSONObject json=new JSONObject();  
	    JSONArray jsonMembers = new JSONArray();
	    
	    JSONObject member1 = new JSONObject();  
	    member1.put("loginname", "zhangfan");  
	    member1.put("password", "userpass");  
	    member1.put("email","10371443@qq.com");  
	    member1.put("sign_date", "2007-06-12");  
	    jsonMembers.put(member1);  
	  
	    JSONObject member2 = new JSONObject();  
	    member2.put("loginname", "zf");  
	    member2.put("password", "userpass");  
	    member2.put("email","8223939@qq.com");  
	    member2.put("sign_date", "2008-07-16");  
	    jsonMembers.put(member2);  
	    json.put("users", jsonMembers);  
	    */
	  
//	    return json.toString();
	    response.getWriter().print(test);  
	}
}
